"use strict";(self["webpackChunknvs_v5"]=self["webpackChunknvs_v5"]||[]).push([[8066],{2478:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var i=s(4568),a=s(4177),r=s(7179),l=s(3385),o=s(4437),n=s(6035),h=s(6904),c=s(8236),d=s(5294),u=s(5251),m=function(){var e=this,t=e._self._c;return"true"===e.logado?t(n.Z,{attrs:{fluid:"",tag:"section"}},[t(c.Z,{directives:[{name:"show",rawName:"v-show",value:e.showAlert,expression:"showAlert"}]},[t(i.Z,{staticClass:"position-fixed",attrs:{icon:e.alertType.icon,prominent:"",shaped:"",type:e.alertType.type,transition:"scale-transition"}},[e._v(" "+e._s(e.alertType.text)+" ")])],1),t(d.Z,{attrs:{justify:"center"}},[t(o.Z,{attrs:{cols:"12",sm:"10",md:"8"}},[t(l.Z,[t(h.Z,{ref:"form",attrs:{id:"form",method:"POST",action:"https://sheetdb.io/api/v1/khm5ici88y1u4"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(u.Z,{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{name:"data[ID]"},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}}),t(d.Z,[t(o.Z,{attrs:{cols:"12",sm:"4",md:"6"}},[t("h3",{staticClass:"font-weight-medium mt-6 ms-6"},[e._v(" Cadastrar Usuário — "),t("small",{staticClass:"text-body-1"},[e._v("Insira os dados")])])]),t(o.Z,{attrs:{cols:"12",sm:"8",md:"6"}},[t(a.Z,{staticClass:"ma-3",attrs:{items:e.profiles,"auto-select-first":"","hide-details":"",clearable:"",outlined:"",name:"data[PERFIL]",label:"Perfil","item-text":"text","item-value":"value"},model:{value:e.items.profile,callback:function(t){e.$set(e.items,"profile",t)},expression:"items.profile"}})],1)],1),t(n.Z,[t(d.Z,[t(o.Z,{staticClass:"mb-n8",attrs:{cols:"6",sm:"4"}},[t(u.Z,{attrs:{rules:[()=>e.items.user.length>=2||"Campo Obrigatório"],color:"blue",name:"data[COR]",label:"Nome",outlined:""},model:{value:e.items.user,callback:function(t){e.$set(e.items,"user",t)},expression:"items.user"}})],1),t(o.Z,{staticClass:"mb-n8",attrs:{cols:"6",sm:"4"}},[t(u.Z,{attrs:{rules:[()=>e.items.sobrenome.length>=2||"Campo Obrigatório"],color:"blue",name:"data[NOMES]",label:"Sobrenome",outlined:""},model:{value:e.items.sobrenome,callback:function(t){e.$set(e.items,"sobrenome",t)},expression:"items.sobrenome"}})],1),t(o.Z,{staticClass:"mb-n8",attrs:{cols:"12",sm:"4"}},[t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],attrs:{rules:e.rulesCPF,name:"data[RUA]",color:"blue",label:"CPF",outlined:""},model:{value:e.items.rua,callback:function(t){e.$set(e.items,"rua",t)},expression:"items.rua"}})],1)],1),t(d.Z,[t(o.Z,{attrs:{cols:"12",sm:"6"}},[t(u.Z,{attrs:{"hide-details":"",color:"blue",name:"data[EMAIL]",label:"Endereço de E-mail",outlined:""},model:{value:e.items.email,callback:function(t){e.$set(e.items,"email",t)},expression:"items.email"}})],1),t(o.Z,{attrs:{cols:"12",sm:"6"}},[t(a.Z,{attrs:{items:e.companies,"auto-select-first":"","hide-details":"",clearable:"",outlined:"",label:"Empresa",name:"data[EMPRESAID]","item-text":"RAZAOSOCIAL","item-value":"EMPRESAIDPK"},model:{value:e.items.company,callback:function(t){e.$set(e.items,"company",t)},expression:"items.company"}})],1)],1),t(d.Z,[t(o.Z,{attrs:{cols:"6"}},[t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:"########",expression:"'########'"}],attrs:{rules:e.rulesCEP,name:"data[CEP]","hide-details":"",color:"blue",label:"CEP",outlined:""},on:{keyup:e.preencherCep},model:{value:e.items.cep,callback:function(t){e.$set(e.items,"cep",t)},expression:"items.cep"}})],1),t(o.Z,{attrs:{cols:"3"}},[t(u.Z,{attrs:{"hide-details":"",color:"blue",name:"data[NUMERO]",label:"Nº",outlined:""},model:{value:e.items.numero,callback:function(t){e.$set(e.items,"numero",t)},expression:"items.numero"}})],1),t(o.Z,{attrs:{cols:"3"}},[t(u.Z,{attrs:{"hide-details":"",color:"blue",label:"Estado",outlined:"",disabled:""},model:{value:e.items.estado,callback:function(t){e.$set(e.items,"estado",t)},expression:"items.estado"}})],1)],1),t(d.Z,[t(o.Z,{attrs:{cols:"6"}},[t(u.Z,{attrs:{color:"blue",label:"Logradouro","hide-details":"",outlined:"",disabled:""},model:{value:e.items.logradouro,callback:function(t){e.$set(e.items,"logradouro",t)},expression:"items.logradouro"}})],1),t(o.Z,{attrs:{cols:"6"}},[t(u.Z,{attrs:{color:"blue",label:"Cidade","hide-details":"",outlined:"",disabled:""},model:{value:e.items.cidade,callback:function(t){e.$set(e.items,"cidade",t)},expression:"items.cidade"}})],1)],1),t(d.Z,[t(o.Z,{staticClass:"text-right"},[t(r.Z,{attrs:{color:"primary","min-width":"150",disabled:!e.valid},on:{click:e.register}},[e._v(" Salvar ")])],1)],1)],1)],1)],1)],1)],1)],1):e._e()},p=[],v=(s(560),s(5121)),f={name:"UserRegisterView",data:()=>({erroCep:!1,showAlert:!1,valid:!0,id:"",logado:window.sessionStorage.logado,companies:[],profiles:[{value:"ADMIN",text:"Administrador"},{value:"CUSTOMER",text:"Transportador"},{value:"FINANCIAL",text:"Financeiro"},{value:"MASTER",text:"Master"}],items:{logradouro:"",estado:"",cidade:"",rua:"",user:"",sobrenome:"",email:"",cep:"",numero:"",profile:"",company:""},alertType:[],alertTypeDefault:[{value:"update",text:"Usuário cadastrado com sucesso!",type:"success",icon:"mdi-alert"},{value:"error",text:"Erro ao cadastrar usuário.",type:"error",icon:"mdi-check"}]}),created(){this.getCompanies(),this.greaterId()},computed:{rulesCEP(){const e=[],t=!this.items.cep||!1===this.erroCep&&8===this.items.cep.length||"CEP inválido";return e.push(t),e},rulesCPF(){let e=this.items.rua;e=e.replace(/[^\d]+/g,"");let t,s=0,i=0,a=0,r=!0,l=!0;for(t=0;t<9;t++)s+=parseInt(e.charAt(t))*(10-t),a=11-s%11,10===a||11===a?(a=0,a!=parseInt(e.charAt(9))&&(r=!1)):r=!0;for(t=0;t<10;t++)i+=parseInt(e.charAt(t))*(11-t),a=11-i%11,10===a||11===a?(a=0,a!=parseInt(e.charAt(10))&&(l=!1)):l=!0;const o=[],n=11===e.length&&"00000000000"!=e&&"11111111111"!=e&&"22222222222"!=e&&"33333333333"!=e&&"44444444444"!=e&&"55555555555"!=e&&"66666666666"!=e&&"77777777777"!=e&&"88888888888"!=e&&"99999999999"!=e&&!0===r&&!0===l||"CPF inválido";return o.push(n),o}},beforeMount(){this.preencherCep()},methods:{validateField(){this.$refs.form.validate()},getCep(e){return v.Z.get(`https://viacep.com.br/ws/${e}/json/`)},getCompanies(){return fetch("https://sheetdb.io/api/v1/8nmjdq4kt9z0x").then((e=>e.json())).then((e=>{this.companies=e}))},greaterId(){return v.Z.get("https://sheetdb.io/api/v1/khm5ici88y1u4").then((e=>{this.id=e.data.length+1}))},preencherCep(){const e=this.items.cep.replace(/\D/g,"");8===e.length&&this.getCep(e).then((e=>{this.items.logradouro=e.data.logradouro,this.items.estado=e.data.uf,this.items.cidade=e.data.localidade,"erro"in e.data?this.erroCep=!0:this.erroCep=!1}))},register(){var e=document.getElementById("form");fetch(e.action,{method:"POST",body:new FormData(e)}).then((e=>{200===e.status||201===e.status?(this.showAlert=!0,this.alertType=this.alertTypeDefault[0],setTimeout((()=>{this.showAlert=!1,this.alertType=[]}),3500)):(this.showAlert=!0,this.alertType=this.alertTypeDefault[1],setTimeout((()=>{this.showAlert=!1,this.alertType=[]}),3500))}))}}},g=f,I=s(1001),b=(0,I.Z)(g,m,p,!1,null,null,null),y=b.exports},4568:function(e,t,s){s.d(t,{Z:function(){return d}});var i=s(2925),a=s(1903),r=s(1012),l=s(6470),o=s(3276),n=s(3599),h=s(4987),c=s(6596),d=(0,h.Z)(i.Z,l.Z,n.Z).extend({name:"v-alert",props:{border:{type:String,validator(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let e={staticClass:"v-alert__border",class:{[`v-alert__border--${this.border}`]:!0}};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible(){if(!this.dismissible)return null;const e=this.iconColor;return this.$createElement(a.Z,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(r.Z,{props:{color:e}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(r.Z,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const e={...i.Z.options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(e[`v-alert--border-${this.border}`]=!0),e},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&`$${this.type}`)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||o.Z.options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&(0,c.fK)("outline","outlined",this)},methods:{genWrapper(){const e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(e){const t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},4177:function(e,t,s){s.d(t,{Z:function(){return n}});var i=s(6883),a=s(5251),r=s(2653),l=s(1050);const o={...i.l,offsetY:!0,offsetOverflow:!0,transition:!1};var n=i.Z.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,s)=>s.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:i.Z.options.props.menuProps.type,default:()=>o},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...i.Z.options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map((e=>this.getValue(e)))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some((e=>!this.hasItem(e))):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((e=>{const t=(0,l.qF)(e,this.itemText),s=null!=t?String(t):"";return this.filter(e,String(this.internalSearch),s)}))},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch!==e&&(this.lazySearch=e,this.$emit("update:search-input",e))}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=i.Z.options.computed.$_menuProps.call(this);return e.contentClass=`v-autocomplete__content ${e.contentClass||""}`.trim(),{...o,...e}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find((e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue))))},listData(){const e=i.Z.options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=null)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(e,t){if(e!==t){if(!this.autoSelectFirst){const s=t[this.$refs.menu.listIndex];s?this.setMenuIndex(e.findIndex((e=>e===s))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.autoSelectFirst&&e.length&&(this.setMenuIndex(0),this.$emit("update:list-index",this.$refs.menu.listIndex)))}))}},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===l.Do.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===l.Do.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==l.Do.backspace&&e!==l.Do.delete||this.deleteCurrentItem())},deleteCurrentItem(){const e=this.selectedIndex,t=this.selectedItems[e];if(!this.isInteractive||this.getDisabled(t))return;const s=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==s)return void(this.selectedIndex=s);const i=this.selectedItems.length,a=e!==i-1?e:e-1,r=this.selectedItems[a];r?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=a},clearableCallback(){this.internalSearch=null,i.Z.options.methods.clearableCallback.call(this)},genInput(){const e=a.Z.options.methods.genInput.call(this);return e.data=(0,r.ZP)(e.data,{attrs:{"aria-activedescendant":(0,l.vO)(this.$refs.menu,"activeTile.id"),autocomplete:(0,l.vO)(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=i.Z.options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?i.Z.options.methods.genSelections.call(this):[]},onClick(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,s=t.value;t.value&&this.activateMenu(),this.multiple||""!==s||this.deleteCurrentItem(),this.internalSearch=s,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;!e.ctrlKey&&[l.Do.home,l.Do.end].includes(t)||i.Z.options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){i.Z.options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){i.Z.options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){i.Z.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick((()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))}))},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){var t,s;if(-1===this.selectedIndex)return;const i=this.selectedItems[this.selectedIndex],a=this.getText(i);null===(t=e.clipboardData)||void 0===t||t.setData("text/plain",a),null===(s=e.clipboardData)||void 0===s||s.setData("text/vnd.vuetify.autocomplete.item+plain",a),e.preventDefault()}}})},6904:function(e,t,s){s(560);var i=s(4987),a=s(4609),r=s(380);t.Z=(0,i.Z)(a.Z,(0,r.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",(t=>{this.$set(this.errorBag,e._uid,t)}),{immediate:!0}),s={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=e.$watch("shouldValidate",(i=>{i&&(this.errorBag.hasOwnProperty(e._uid)||(s.valid=t(e)))})):s.valid=t(e),s},validate(){return 0===this.inputs.filter((e=>!e.validate(!0))).length},reset(){this.inputs.forEach((e=>e.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((e=>e.resetValidation())),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find((t=>t._uid===e._uid));if(!t)return;const s=this.watchers.find((e=>e._uid===t._uid));s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter((e=>e._uid!==t._uid)),this.inputs=this.inputs.filter((e=>e._uid!==t._uid)),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}})},8236:function(e,t,s){s.d(t,{Z:function(){return o}});s(560);var i=s(8914),a=s(3276),r=s(6470),l=s(4987),o=(0,l.Z)(i.Z,a.Z,r.Z).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(e){const t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},t)}})},3599:function(e,t,s){var i=s(144);t.Z=i.ZP.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})}}]);
//# sourceMappingURL=views-UserRegister.c13a3eae.js.map